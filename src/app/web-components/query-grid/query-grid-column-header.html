<link rel="stylesheet" href="query-grid-column-header.css" />

<div class="relative">
    <div class="layout horizontal relative">
        <div class="label flex relative" on-tap="_sort" can-sort$="[[canSort]]">
            <label class="flex">[[column.label]]</label>
            <vi-icon id="sortingIcon" source="[[sortingIcon]]" hidden$="[[!sorting]]"></vi-icon>
        </div>
        <dom-if if="[[!renderPopupMenu]]">
            <template>
                <vi-button icon="CaretDown" inverse on-tap="_renderPopupMenu"></vi-button>
            </template>
        </dom-if>
        <dom-if if="[[renderPopupMenu]]">
            <template>
                <vi-popup-menu right-align id="menu">
                    <vi-button slot="header" icon="CaretDown" inverse></vi-button>
                    <vi-popup-menu-item label="[[translateMessage('SortAscending', isConnected)]]" icon="SortAsc" on-tap="_sort" hidden$="[[!canSort]]" on-tap="_sortAsc"></vi-popup-menu-item>
                    <vi-popup-menu-item label="[[translateMessage('SortDescending', isConnected)]]" icon="SortDesc" on-tap="_sort" hidden$="[[!canSort]]"  on-tap="_sortDesc"></vi-popup-menu-item>
                    <vi-popup-menu-item-separator hidden$="[[!canSort]]"></vi-popup-menu-item-separator>
                    <vi-popup-menu-item label="[[groupByLabel]]" icon="QueryGrid_Group" on-tap="_group" hidden$="[[!canGroupBy]]"></vi-popup-menu-item>
                    <vi-popup-menu-item label="[[pinLabel]]" icon="Pin" checked$="[[isPinned]]" on-tap="_togglePin"></vi-popup-menu-item>
                    <vi-popup-menu-item label="[[translateMessage('HideColumn', isConnected)]]" icon="Eye" on-tap="_hide"></vi-popup-menu-item>
                    <vi-popup-menu-item-separator></vi-popup-menu-item-separator>
                    <vi-popup-menu-item label="[[translateMessage('Manage', isConnected)]]" icon="Configure" on-tap="_configure"></vi-popup-menu-item>
                </vi-popup-menu>
            </template>
        </dom-if>
    </div>
    <vi-query-grid-column-filter column="[[column]]" part="filter"></vi-query-grid-column-filter>
    <div class="resizer" on-track="_resizeTrack"></div>
</div>

<vi-icon name="QueryGrid_Group">
    <svg viewBox="0 0 32 32">
        <g>
            <path d="M 2 8 L 2 14 L 22 14 L 22 8 L 2 8 z M 10 18 L 10 24 L 30 24 L 30 18 L 10 18 z " />
        </g>
    </svg>
</vi-icon>