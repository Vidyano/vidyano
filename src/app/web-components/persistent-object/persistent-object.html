<link rel="stylesheet" href="persistent-object.css" />

<div class="horizontal layout flex content">
    <div class="vertical layout master">
        <vi-action-bar service-object="[[selectedMasterTab.target]]" hidden$="[[_hideActionBar(selectedMasterTab)]]"></vi-action-bar>
        <vi-notification service-object="[[selectedMasterTab.target]]"></vi-notification>
        <vi-persistent-object-tab-presenter class="flex" tab="[[selectedMasterTab]]"></vi-persistent-object-tab-presenter>
    </div>
    <div id="splitter" on-track="_trackSplitter"></div>
    <vi-persistent-object-details-content class="vertical layout flex detail" tab="{{selectedDetailTab}}" hide-action-bar="[[_hideActionBar(selectedDetailTab)]]"></vi-persistent-object-details-content>
</div>
<div class="horizontal layout tabs">
    <div class="master">
        <vi-persistent-object-tab-bar tabs="[[masterTabs]]" selected-tab="{{selectedMasterTab}}"></vi-persistent-object-tab-bar>
    </div>
    <vi-persistent-object-details-header class="flex detail" tabs="[[detailTabs]]" tab="{{selectedDetailTab}}"></vi-persistent-object-details-header>
</div>
<header class="layout horizontal">
    <vi-sensitive disabled="[[!persistentObject.isBreadcrumbSensitive]]">
        <span class="flex">[[persistentObject.breadcrumb]]</span>
    </vi-sensitive>
    <vi-spinner block color="white" hidden$="[[!isBusy]]"></vi-spinner>
    <dom-if if="[[showNavigation]]">
        <template>
            <nav class="layout horizontal">
                <span>[[_getNavigationIndex(persistentObject)]]</span>
                <vi-button icon="ChevronLeft" data-direction="previous" on-tap="_navigate" busy$="[[isBusy]]" disabled$="[[isBusy]]"></vi-button>
                <vi-button icon="ChevronRight" data-direction="next" on-tap="_navigate" busy$="[[isBusy]]" disabled$="[[isBusy]]"></vi-button>
            </nav>
        </template>
    </dom-if>
</header>